{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///home/vsingh/Photography-Managing-App/my-app/src/app/gear/page.jsx"],"sourcesContent":["'use client'\nimport { useEffect, useState, useRef } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function GearPage() {\n  const [gear, setGear] = useState([]);\n  const [error, setError] = useState(null);\n  const [hovered, setHovered] = useState(null);\n  const [hoveredDelete, setHoveredDelete] = useState(null);\n  const [showFilters, setShowFilters] = useState(false);\n  const [filters, setFilters] = useState({\n    purchased: true,\n    notPurchased: true,\n  });\n  const router = useRouter();\n  const filterRef = useRef();\n\n  useEffect(() => {\n    const fetchGear = async () => {\n      const res = await fetch('/api/gear/get-gear');\n      const { data, error } = await res.json();\n      if (error) setError(error);\n      else setGear(data || []);\n    };\n    fetchGear();\n  }, []);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(e) {\n      if (filterRef.current && !filterRef.current.contains(e.target)) {\n        setShowFilters(false);\n      }\n    }\n    if (showFilters) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    }\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [showFilters]);\n\n  // Filtering logic\n  const filteredGear = gear.filter(item => {\n    const isPurchased = !!item.purchased;\n    return (\n      (isPurchased && filters.purchased) ||\n      (!isPurchased && filters.notPurchased)\n    );\n  });\n\n  // Delete handler\n  const handleDelete = async (id) => {\n    if (!window.confirm(\"Are you sure you want to delete this gear item?\")) return;\n    const res = await fetch(`/api/gear/delete-gear?id=${id}`, { method: \"DELETE\" });\n    const { error } = await res.json();\n    if (!error) {\n      setGear(g => g.filter(item => item.id !== id));\n    } else {\n      alert(\"Failed to delete gear: \" + error);\n    }\n  };\n\n  return (\n    <div style={{ padding: \"40px 0\", minHeight: \"100vh\", background: \"#f8fafc\", position: \"relative\" }}>\n      {/* Back to Home button */}\n      <button\n        type=\"button\"\n        onClick={() => router.push(\"/\")}\n        style={{\n          position: \"absolute\",\n          top: 32,\n          left: 32,\n          background: hovered === \"home\" ? \"#005bb5\" : \"#0070f3\",\n          color: \"#fff\",\n          border: \"none\",\n          borderRadius: 8,\n          padding: \"10px 24px\",\n          fontWeight: \"bold\",\n          fontSize: \"1rem\",\n          cursor: \"pointer\",\n          boxShadow: \"0 2px 12px rgba(0,0,0,0.08)\",\n          transition: \"background 0.2s\",\n          zIndex: 10,\n        }}\n        onMouseOver={() => setHovered(\"home\")}\n        onMouseOut={() => setHovered(null)}\n      >\n        ← Back to Home\n      </button>\n\n      {/* Add Gear and Filter Buttons */}\n      <div\n        style={{\n          position: \"absolute\",\n          top: 32,\n          right: 32,\n          display: \"flex\",\n          gap: 16,\n          zIndex: 20,\n        }}\n        ref={filterRef}\n      >\n        <button\n          type=\"button\"\n          onClick={() => router.push(\"/gear/add\")}\n          style={{\n            background: \"#fff\",\n            color: \"#0070f3\",\n            border: \"2px solid #0070f3\",\n            borderRadius: 8,\n            padding: \"10px 24px\",\n            fontWeight: \"bold\",\n            fontSize: \"1rem\",\n            cursor: \"pointer\",\n            boxShadow: \"0 2px 12px rgba(0,0,0,0.08)\",\n            transition: \"background 0.2s, color 0.2s\",\n          }}\n          onMouseOver={() => setHovered(\"add\")}\n          onMouseOut={() => setHovered(null)}\n        >\n          + Add Gear\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => setShowFilters(v => !v)}\n          style={{\n            background: \"#fff\",\n            color: \"#0070f3\",\n            border: \"2px solid #0070f3\",\n            borderRadius: 8,\n            padding: \"10px 24px\",\n            fontWeight: \"bold\",\n            fontSize: \"1rem\",\n            cursor: \"pointer\",\n            boxShadow: \"0 2px 12px rgba(0,0,0,0.08)\",\n            transition: \"background 0.2s, color 0.2s\",\n          }}\n        >\n          Filters &#x25BC;\n        </button>\n        {showFilters && (\n          <div style={{\n            position: \"absolute\",\n            top: \"110%\",\n            right: 0,\n            background: \"#fff\",\n            border: \"1px solid #e5e7eb\",\n            borderRadius: 12,\n            boxShadow: \"0 4px 24px rgba(0,0,0,0.12)\",\n            padding: \"20px 24px\",\n            minWidth: 200,\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 12,\n            zIndex: 30,\n          }}>\n            <label style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\n              <input\n                type=\"checkbox\"\n                checked={filters.purchased}\n                onChange={() => setFilters(f => ({ ...f, purchased: !f.purchased }))}\n              />\n              Purchased\n            </label>\n            <label style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\n              <input\n                type=\"checkbox\"\n                checked={filters.notPurchased}\n                onChange={() => setFilters(f => ({ ...f, notPurchased: !f.notPurchased }))}\n              />\n              Not Purchased\n            </label>\n          </div>\n        )}\n      </div>\n\n      {/* Centered header */}\n      <header style={{\n        marginBottom: \"32px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        width: \"100%\",\n      }}>\n        <h1 style={{ fontSize: \"2rem\", fontWeight: \"bold\", color: \"#0070f3\", margin: 0 }}>Gear</h1>\n      </header>\n\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n      <div style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"24px\",\n        alignItems: \"center\",\n        padding: \"0 40px\",\n      }}>\n        {filteredGear && filteredGear.length > 0 ? (\n          filteredGear.map((item, idx) => (\n            <div\n              key={item.id || idx}\n              style={{\n                width: \"100%\",\n                minHeight: \"64px\",\n                borderRadius: \"24px\",\n                background: hovered === idx ? \"#e6f0fa\" : \"#fff\",\n                boxShadow: hovered === idx\n                  ? \"0 4px 16px rgba(0,112,243,0.15)\"\n                  : \"0 2px 12px rgba(0,0,0,0.08)\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"flex-start\",\n                gap: 40,\n                padding: \"0 32px\",\n                border: hovered === idx ? \"2px solid #005bb5\" : \"2px solid #0070f3\",\n                transition: \"box-shadow 0.2s, border 0.2s, background 0.2s\",\n                color: \"#222\",\n                cursor: \"pointer\",\n                boxSizing: \"border-box\",\n                position: \"relative\",\n              }}\n              onMouseOver={() => setHovered(idx)}\n              onMouseOut={() => setHovered(null)}\n            >\n              <Link\n                href={`/gear/${item.id}`}\n                style={{\n                  display: \"flex\",\n                  flex: 1,\n                  alignItems: \"center\",\n                  gap: 40,\n                  textDecoration: \"none\",\n                  color: \"inherit\",\n                }}\n              >\n                <span style={{ flex: 2, fontWeight: \"bold\", color: \"#0070f3\", fontSize: \"1.1rem\", textAlign: \"left\" }}>\n                  {item.name || \"No Name\"}\n                </span>\n                <span style={{ flex: 1, color: \"#333\", fontSize: \"1rem\", textAlign: \"left\" }}>\n                  {item.price || \"0.00\"}\n                </span>\n                <span style={{\n                  flex: 1,\n                  color: item.purchased ? \"#4eb300\" : \"#b91c1c\",\n                  fontWeight: \"bold\",\n                  fontSize: \"1rem\",\n                  textAlign: \"left\"\n                }}>\n                  {item.purchased ? \"Purchased\" : \"Not Purchased\"}\n                </span>\n              </Link>\n              <button\n                onClick={async (e) => {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    await handleDelete(item.id);\n                }}\n                style={{\n                    marginLeft: 16,\n                    width: 36,\n                    height: 36,\n                    borderRadius: \"50%\",\n                    border: \"none\",\n                    background: hoveredDelete === idx ? \"#d1d5db\" : \"transparent\", // darker circle\n                    color: \"#b91c1c\",\n                    fontWeight: \"bold\",\n                    fontSize: \"1.5rem\",\n                    cursor: \"pointer\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    transition: \"background 0.2s, color 0.2s\",\n                    boxShadow: hoveredDelete === idx ? \"0 2px 8px rgba(185,28,28,0.15)\" : \"none\",\n                }}\n                onMouseOver={() => setHoveredDelete(idx)}\n                onMouseOut={() => setHoveredDelete(null)}\n                title=\"Delete gear\"\n                aria-label=\"Delete gear\"\n                >\n                ×\n                </button>\n            </div>\n          ))\n        ) : (\n          <p>No gear found.</p>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}